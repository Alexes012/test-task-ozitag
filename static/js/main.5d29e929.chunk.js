(this["webpackJsonpozitag-test"]=this["webpackJsonpozitag-test"]||[]).push([[0],{13:function(e,t,n){e.exports={main:"Header_main__2WiZB",container:"Header_container__KlSLN",nameOfPages:"Header_nameOfPages__3mlnP",wrapper:"Header_wrapper__3MYlg",containerForOther:"Header_containerForOther__27gJb"}},15:function(e,t,n){e.exports={link:"Link_link__AGXXo",linkDecor:"Link_linkDecor__uOGTP"}},34:function(e,t,n){e.exports={profile:"Profile_profile__1F1eX"}},37:function(e,t,n){e.exports={button:"Button_button__3qS8_"}},38:function(e,t,n){},40:function(e,t,n){e.exports=n(70)},45:function(e,t,n){},46:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),l=(n(45),n(46),n(9)),i=n(2),u=n(34),s=n.n(u),m=n(8),d=n(18),p=n(36),f=n.n(p),h=n(12),g=n.n(h),E=f.a.create({baseURL:"https://tager.dev.ozitag.com/api/",headers:{Authorization:""}}),v=function(){return E.get("user/profile",{headers:{Authorization:"Bearer ".concat(g.a.get("token"))}}).then((function(e){return e.data}))},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return E.post("auth/user",{clientId:n,email:e,password:t}).then((function(e){return e.data}))},b=function(){return E.post("user/profile/logout",{},{headers:{Authorization:"Bearer ".concat(g.a.get("token"))}}).then((function(e){return e.data}))},k={clientId:null,email:null,password:null,isAuth:!1},O=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{clientId:e,email:t,password:n,isAuth:a}}},w=function(e,t){return function(n){_(e,t).then((function(e){g.a.set("token",e.data.accessToken),n((function(e){v().then((function(t){var n=t.data,a=n.clientId,r=n.email,o=n.password;e(O(a,r,o,!0))}))}))}))}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.payload),t.isAuth);default:return e}},N=n(37),j=n.n(N);var A=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:j.a.button,onClick:e.onClick,onChange:e.onChange,value:e.value,disabled:e.disabled},e.description))},C=function(){var e=Object(m.b)();return!1===Object(m.c)((function(e){return e.login})).isAuth?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:s.a.profile},r.a.createElement("h1",null,"It's your profile"),r.a.createElement("h2",null,"If you want to leave your page, click the button below"),r.a.createElement(A,{description:"LogOut",onClick:function(){e((function(e){b().then((function(t){g.a.remove("token"),e(O(null,null,null,!1))}))}))}}))},S=n(23),x=(n(69),n(38)),z=n.n(x);var B=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:e.type?e.type:"text",placeholder:e.placeholder,className:z.a.input,onClick:e.onClick,onChange:e.onChange,value:e.value,onBlur:e.onBlur,checked:e.checked}))},F=function(e){var t=Object(a.useState)("user@ozitag.com"),n=Object(S.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)("user"),u=Object(S.a)(l,2),s=u[0],d=u[1],p=Object(m.b)();return Object(m.c)((function(e){return e.login})).isAuth?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,"Log in with your account"),r.a.createElement(B,{placeholder:"Email",value:o,onChange:function(e){c(e.target.value)}}),r.a.createElement(B,{placeholder:"Password",type:"password",value:s,onChange:function(e){d(e.target.value)}}),r.a.createElement(A,{description:"Submit",onClick:function(){p(w(o,s))}}))},L=n(13),T=n.n(L),I=n(15),P=n.n(I);var D=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P.a.containerForLink},r.a.createElement("div",{className:P.a.animation}),r.a.createElement("div",{className:P.a.link},r.a.createElement(l.b,{className:P.a.linkDecor,to:e.link},e.name))))},H=function(e){return r.a.createElement("div",{className:T.a.main},r.a.createElement("div",{className:T.a.container},r.a.createElement("div",{className:T.a.nameOfPages},r.a.createElement(D,{link:"./login",name:"Login"}))),r.a.createElement("div",{className:T.a.wrapper},r.a.createElement("div",{className:T.a.containerForOther},"Test task for the company OziTag.")))},J=[{id:0,title:"profile",path:"/profile",component:function(){return r.a.createElement(C,null)}},{id:1,title:"login",path:"/login",component:function(){return r.a.createElement(F,null)}},{id:2,title:"header",path:"/",component:function(){return r.a.createElement(H,null)}}],R=function(){return r.a.createElement(i.d,null,J.map((function(e){return r.a.createElement(i.b,{key:e.id,path:e.path,exact:e.exact,render:e.component})})))},U=n(11),W=n(39),X=Object(U.c)({login:y}),G=Object(U.d)(X,Object(U.a)(W.a)),M=function(){return r.a.createElement(l.a,null,r.a.createElement(m.a,{store:G},r.a.createElement("div",{className:"App"},r.a.createElement(R,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.5d29e929.chunk.js.map